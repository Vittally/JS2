<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="ajax-data"></div>
<button id="ajax-get">Async get data</button>
<script>
    window.onload = () => {

        document.getElementById('ajax-get').addEventListener('click', () => {

            // ES5
            // let xhr = new XMLHttpRequest();
            // xhr.open('GET', 'tel.json', true); // false - синхронный запрос
            //
            // xhr.onreadystatechange = () => {
            //     console.log(xhr.readyState);
            //     //xhr.readyState
            //     // 0 - запрос не инициализирован
            //     // 1 - загрузка данных (от клиента)
            //     // 2 - запрос принят сервером
            //     // 3 - идет обмен данными
            //     // 4 - запрос выполнен
            //     if (xhr.readyState !== 4){
            //         return; // выход
            //     }
            //     if (xhr.status !== 200){
            //         console.log('Ошибка в процессе получения данных', xhr.status, xhr.statusText);
            //     } else {
            //         console.log('ok', xhr.responseText);
            //         let data = JSON.parse(xhr.responseText);
            //         let block = document.getElementById('ajax-data');
            //         block.innerHTML = `Телефон ${data.tel} (${data.desc})`;
            //     }
            // };
            //
            // xhr.send();

            //ES6

            let block = document.getElementById('ajax-data');
            fetch('tel.json')
                .then(result => result.json())
                .then(data => {
                    console.log(data);
                    block.innerHTML = `Телефон ${data.tel} (${data.desc})`;
                })
                .catch(error => console.log(error));
        })

    }
</script>
</body>
</html>